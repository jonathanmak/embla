\verbdef\jkffxb$#include <stdlib.h> $
\verbdef\jkffxc$#include <stdio.h> $
\verbdef\jkffxd$ $
\verbdef\jkffxe$static int a[] =  $
\verbdef\jkffxf$   {17, 3, 84, 89, 4, 5, 23, 43,  $
\verbdef\jkffxg$    21, 7, 2, 1, 55, 63, 21}; $
\verbdef\jkffxh$static int n = 15; $
\verbdef\jkffxi$ $
\verbdef\jkffxj$static int *part(int *a, int n) $
\verbdef\jkffxba${ $
\verbdef\jkffxbb$   int i = a[0]; $
\verbdef\jkffxbc$   int k = a[n-1]; $
\verbdef\jkffxbd$   int *lp = a; $
\verbdef\jkffxbe$   int *hp = a+n-1; $
\verbdef\jkffxbf$ $
\verbdef\jkffxbg$   while( lp<hp ) { $
\verbdef\jkffxbh$      if( k<i ) { $
\verbdef\jkffxbi$         *lp = k; $
\verbdef\jkffxbj$          lp++; $
\verbdef\jkffxca$          k = *lp; $
\verbdef\jkffxcb$      } else { $
\verbdef\jkffxcc$          *hp = k; $
\verbdef\jkffxcd$           hp--; $
\verbdef\jkffxce$           k = *hp; $
\verbdef\jkffxcf$      } $
\verbdef\jkffxcg$   } $
\verbdef\jkffxch$   *lp = i; $
\verbdef\jkffxci$   return lp; $
\verbdef\jkffxcj$} $
\verbdef\jkffxda$ $
\verbdef\jkffxdb$static void qs(int *a, int n) $
\verbdef\jkffxdc${ $
\verbdef\jkffxdd$   if( n>1 ) { $
\verbdef\jkffxde$      int *lp = part( a, n ); $
\verbdef\jkffxdf$      int m = lp-a; $
\verbdef\jkffxdg$      qs( a, m ); $
\verbdef\jkffxdh$      qs( lp+1, n-m-1 ); $
\verbdef\jkffxdi$   } $
\verbdef\jkffxdj$} $
\verbdef\jkffxea$ $
\verbdef\jkffxeb$  $
\verbdef\jkffxec$ $
\verbdef\jkffxed$int main(int argc, char **argv) $
\verbdef\jkffxee${ $
\verbdef\jkffxef$   int i; $
\verbdef\jkffxeg$    $
\verbdef\jkffxeh$   qs( a, n ); $
\verbdef\jkffxei$   for( i=0; i<n; i++ ) { $
\verbdef\jkffxej$      printf( "%d ", a[i] ); $
\verbdef\jkffxfa$   } $
\verbdef\jkffxfb$   printf( "\n" ); $
\verbdef\jkffxfc$ $
\verbdef\jkffxfd$} $
\hrulefill
\[
\begin{picture}(420,530)(-68,-530)

\put(-68,0){\makebox(15,10)[r]{\it 0:}}%
\put(0,0){\makebox(100,10)[l]{}}
\put(-68,-10){\makebox(15,10)[r]{\it 1:}}%
\put(0,-10){\makebox(100,10)[l]{\jkffxb}}
\put(-68,-20){\makebox(15,10)[r]{\it 2:}}%
\put(0,-20){\makebox(100,10)[l]{\jkffxc}}
\put(-68,-30){\makebox(15,10)[r]{\it 3:}}%
\put(0,-30){\makebox(100,10)[l]{\jkffxd}}
\put(-68,-40){\makebox(15,10)[r]{\it 4:}}%
\put(0,-40){\makebox(100,10)[l]{\jkffxe}}
\put(-68,-50){\makebox(15,10)[r]{\it 5:}}%
\put(0,-50){\makebox(100,10)[l]{\jkffxf}}
\put(-68,-60){\makebox(15,10)[r]{\it 6:}}%
\put(0,-60){\makebox(100,10)[l]{\jkffxg}}
\put(-68,-70){\makebox(15,10)[r]{\it 7:}}%
\put(0,-70){\makebox(100,10)[l]{\jkffxh}}
\put(-68,-80){\makebox(15,10)[r]{\it 8:}}%
\put(0,-80){\makebox(100,10)[l]{\jkffxi}}
\put(-68,-90){\makebox(15,10)[r]{\it 9:}}%
\put(0,-90){\makebox(100,10)[l]{\jkffxj}}
\put(-68,-100){\makebox(15,10)[r]{\it 10:}}%
\put(0,-100){\makebox(100,10)[l]{\jkffxba}}
\put(-68,-110){\makebox(15,10)[r]{\it 11:}}%
\put(0,-110){\makebox(100,10)[l]{\jkffxbb}}
\put(-68,-120){\makebox(15,10)[r]{\it 12:}}%
\put(0,-120){\makebox(100,10)[l]{\jkffxbc}}
\put(-68,-130){\makebox(15,10)[r]{\it 13:}}%
\put(0,-130){\makebox(100,10)[l]{\jkffxbd}}
\put(-68,-140){\makebox(15,10)[r]{\it 14:}}%
\put(0,-140){\makebox(100,10)[l]{\jkffxbe}}
\put(-68,-150){\makebox(15,10)[r]{\it 15:}}%
\put(0,-150){\makebox(100,10)[l]{\jkffxbf}}
\put(-68,-160){\makebox(15,10)[r]{\it 16:}}%
\put(0,-160){\makebox(100,10)[l]{\jkffxbg}}
\put(-68,-170){\makebox(15,10)[r]{\it 17:}}%
\put(0,-170){\makebox(100,10)[l]{\jkffxbh}}
\put(-68,-180){\makebox(15,10)[r]{\it 18:}}%
\put(0,-180){\makebox(100,10)[l]{\jkffxbi}}
\put(-68,-190){\makebox(15,10)[r]{\it 19:}}%
\put(0,-190){\makebox(100,10)[l]{\jkffxbj}}
\put(-68,-200){\makebox(15,10)[r]{\it 20:}}%
\put(0,-200){\makebox(100,10)[l]{\jkffxca}}
\put(-68,-210){\makebox(15,10)[r]{\it 21:}}%
\put(0,-210){\makebox(100,10)[l]{\jkffxcb}}
\put(-68,-220){\makebox(15,10)[r]{\it 22:}}%
\put(0,-220){\makebox(100,10)[l]{\jkffxcc}}
\put(-68,-230){\makebox(15,10)[r]{\it 23:}}%
\put(0,-230){\makebox(100,10)[l]{\jkffxcd}}
\put(-68,-240){\makebox(15,10)[r]{\it 24:}}%
\put(0,-240){\makebox(100,10)[l]{\jkffxce}}
\put(-68,-250){\makebox(15,10)[r]{\it 25:}}%
\put(0,-250){\makebox(100,10)[l]{\jkffxcf}}
\put(-68,-260){\makebox(15,10)[r]{\it 26:}}%
\put(0,-260){\makebox(100,10)[l]{\jkffxcg}}
\put(-68,-270){\makebox(15,10)[r]{\it 27:}}%
\put(0,-270){\makebox(100,10)[l]{\jkffxch}}
\put(-68,-280){\makebox(15,10)[r]{\it 28:}}%
\put(0,-280){\makebox(100,10)[l]{\jkffxci}}
\put(-68,-290){\makebox(15,10)[r]{\it 29:}}%
\put(0,-290){\makebox(100,10)[l]{\jkffxcj}}
\put(-68,-300){\makebox(15,10)[r]{\it 30:}}%
\put(0,-300){\makebox(100,10)[l]{\jkffxda}}
\put(-68,-310){\makebox(15,10)[r]{\it 31:}}%
\put(0,-310){\makebox(100,10)[l]{\jkffxdb}}
\put(-68,-320){\makebox(15,10)[r]{\it 32:}}%
\put(0,-320){\makebox(100,10)[l]{\jkffxdc}}
{\color{black} \dottedline{3}(-45,-320)(-5,-320)}\put(-68,-330){\makebox(15,10)[r]{\it 33:}}%
\put(0,-330){\makebox(100,10)[l]{\jkffxdd}}
{\color{black} \dottedline{3}(-45,-330)(-5,-330)}\put(-68,-340){\makebox(15,10)[r]{\it 34:}}%
\put(0,-340){\makebox(100,10)[l]{\jkffxde}}
{\color{black} \dottedline{3}(-45,-340)(-5,-340)}\put(-68,-350){\makebox(15,10)[r]{\it 35:}}%
\put(0,-350){\makebox(100,10)[l]{\jkffxdf}}
{\color{black} \dottedline{3}(-45,-350)(-5,-350)}\put(-68,-360){\makebox(15,10)[r]{\it 36:}}%
\put(0,-360){\makebox(100,10)[l]{\jkffxdg}}
{\color{black} \dottedline{3}(-45,-360)(-5,-360)}\put(-68,-370){\makebox(15,10)[r]{\it 37:}}%
\put(0,-370){\makebox(100,10)[l]{\jkffxdh}}
{\color{black} \dottedline{3}(-45,-370)(-5,-370)}\put(-68,-380){\makebox(15,10)[r]{\it 38:}}%
\put(0,-380){\makebox(100,10)[l]{\jkffxdi}}
{\color{black} \dottedline{3}(-45,-380)(-5,-380)}\put(-68,-390){\makebox(15,10)[r]{\it 39:}}%
\put(0,-390){\makebox(100,10)[l]{\jkffxdj}}
\put(-68,-400){\makebox(15,10)[r]{\it 40:}}%
\put(0,-400){\makebox(100,10)[l]{\jkffxea}}
\put(-68,-410){\makebox(15,10)[r]{\it 41:}}%
\put(0,-410){\makebox(100,10)[l]{\jkffxeb}}
\put(-68,-420){\makebox(15,10)[r]{\it 42:}}%
\put(0,-420){\makebox(100,10)[l]{\jkffxec}}
\put(-68,-430){\makebox(15,10)[r]{\it 43:}}%
\put(0,-430){\makebox(100,10)[l]{\jkffxed}}
\put(-68,-440){\makebox(15,10)[r]{\it 44:}}%
\put(0,-440){\makebox(100,10)[l]{\jkffxee}}
\put(-68,-450){\makebox(15,10)[r]{\it 45:}}%
\put(0,-450){\makebox(100,10)[l]{\jkffxef}}
\put(-68,-460){\makebox(15,10)[r]{\it 46:}}%
\put(0,-460){\makebox(100,10)[l]{\jkffxeg}}
\put(-68,-470){\makebox(15,10)[r]{\it 47:}}%
\put(0,-470){\makebox(100,10)[l]{\jkffxeh}}
\put(-68,-480){\makebox(15,10)[r]{\it 48:}}%
\put(0,-480){\makebox(100,10)[l]{\jkffxei}}
\put(-68,-490){\makebox(15,10)[r]{\it 49:}}%
\put(0,-490){\makebox(100,10)[l]{\jkffxej}}
\put(-68,-500){\makebox(15,10)[r]{\it 50:}}%
\put(0,-500){\makebox(100,10)[l]{\jkffxfa}}
\put(-68,-510){\makebox(15,10)[r]{\it 51:}}%
\put(0,-510){\makebox(100,10)[l]{\jkffxfb}}
\put(-68,-520){\makebox(15,10)[r]{\it 52:}}%
\put(0,-520){\makebox(100,10)[l]{\jkffxfc}}
\put(-68,-530){\makebox(15,10)[r]{\it 53:}}%
\put(0,-530){\makebox(100,10)[l]{\jkffxfd}}

\color{red}
\put(-6,-315){\circle*{2}}
\put(-6,-317){\vector(0,-1){66}}
\put(-8,-317){\linethickness{0.7pt}\line(1,0){0}}
\put(-6,-385){\circle*{2}}

\color{red}
\put(-12,-332){\circle*{2}}
\put(-14,-334){\linethickness{0.7pt}\line(1,0){0}}
\put(-12,-337){\circle*{2}\hspace{-2\unitlength}\circle{4}}

\color{red}
\put(-18,-335){\circle*{2}}
\put(-18,-337){\vector(0,-1){6}}
\put(-20,-337){\linethickness{0.7pt}\line(1,0){0}}
\put(-18,-345){\circle*{2}}

\color{red}
\put(-24,-335){\circle*{2}}
\put(-24,-337){\vector(0,-1){26}}
\put(-26,-337){\linethickness{0.7pt}\line(1,0){0}}
\put(-24,-365){\circle*{2}}

\color{red}
\put(-30,-335){\circle*{2}\hspace{-2\unitlength}\circle{4}}
\put(-30,-337){\vector(0,-1){16}}
\put(-32,-337){\linethickness{0.7pt}\line(1,0){4}}
\put(-30,-355){\circle*{2}\hspace{-2\unitlength}\circle{4}}

\color{red}
\put(-36,-335){\circle*{2}\hspace{-2\unitlength}\circle{4}}
\put(-36,-337){\vector(0,-1){26}}
\put(-38,-337){\linethickness{0.7pt}\line(1,0){4}}
\put(-36,-365){\circle*{2}\hspace{-2\unitlength}\circle{4}}

\color{red}
\put(-12,-345){\circle*{2}}
\put(-12,-347){\vector(0,-1){6}}
\put(-14,-347){\linethickness{0.7pt}\line(1,0){0}}
\put(-12,-355){\circle*{2}}

\color{red}
\put(-42,-345){\circle*{2}}
\put(-42,-347){\vector(0,-1){16}}
\put(-44,-347){\linethickness{0.7pt}\line(1,0){0}}
\put(-42,-365){\circle*{2}}

\color{red}
\put(-18,-352){\circle*{2}}
\put(-20,-354){\linethickness{0.7pt}\line(1,0){0}}
\put(-18,-357){\circle*{2}\hspace{-2\unitlength}\circle{4}}

\color{red}
\put(-12,-362){\circle*{2}}
\put(-14,-364){\linethickness{0.7pt}\line(1,0){0}}
\put(-12,-367){\circle*{2}\hspace{-2\unitlength}\circle{4}}

\end{picture}
\]
\hrulefill
