<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Valgrind FAQ</title>
<link rel="stylesheet" href="vg_basic.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.65.1">
<link rel="home" href="index.html" title="Valgrind Documentation">
<link rel="up" href="index.html" title="Valgrind Documentation">
<link rel="previous" href="lk-manual.html" title="9. Lackey: a very simple profiler">
<link rel="next" href="tech-docs.html" title="Valgrind Technical Documentation">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div><table class="nav" width="100%" cellspacing="3" cellpadding="3" border="0" summary="Navigation header"><tr>
<td width="22px" align="center" valign="middle"><a accesskey="p" href="lk-manual.html"><img src="images/prev.png" width="18" height="21" border="0" alt="Prev"></a></td>
<td width="25px" align="center" valign="middle"><a accesskey="u" href="index.html"><img src="images/up.png" width="21" height="18" border="0" alt="Up"></a></td>
<td width="31px" align="center" valign="middle"><a accesskey="h" href="index.html"><img src="images/home.png" width="27" height="20" border="0" alt="Up"></a></td>
<th align="center" valign="middle">Valgrind Documentation</th>
<td width="22px" align="center" valign="middle"><a accesskey="n" href="tech-docs.html"><img src="images/next.png" width="18" height="21" border="0" alt="Next"></a></td>
</tr></table></div>
<div class="book" lang="en">
<div class="titlepage">
<div>
<div><h1 class="title">
<a name="FAQ"></a>Valgrind FAQ</h1></div>
<div><h2 class="subtitle">Valgrind Frequently Asked Questions</h2></div>
<div><div class="author">
<h3 class="author"><span class="surname">
      <a href="http://www.valgrind.org/www/developers.html" target="_top">Valgrind Developers</a>
    </span></h3>
<div class="affiliation"><span class="orgname">
      <a href="mailto:valgrind@valgrind.org" target="_top">valgrind@valgrind.org</a>
    <br></span></div>
</div></div>
<div><p class="releaseinfo">August 2005</p></div>
</div>
<div></div>
<hr>
</div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="faq.background"></a>1. Background</h2></div></div>
<div></div>
</div>
<div class="qandaset">
<dl>
<dt>1.1. <a href="FAQ.html#faq.pronounce">How do you pronounce "Valgrind"?</a>
</dt>
<dt>1.2. <a href="FAQ.html#faq.whence">Where does the name "Valgrind" come from?</a>
</dt>
</dl>
<table border="0" summary="Q and A Set">
<col align="left" width="1%">
<tbody>
<tr class="question">
<td align="left" valign="top">
<a name="faq.pronounce"></a><a name="id323641"></a><b>1.1.</b>
</td>
<td align="left" valign="top"><p>How do you pronounce "Valgrind"?</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>The "Val" as in the world "value".  The "grind" is
  pronounced with a short 'i' -- ie. "grinned" (rhymes with
  "tinned") rather than "grined" (rhymes with "find").</p>
<p>Don't feel bad: almost everyone gets it wrong at
  first.</p>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.whence"></a><a name="id342680"></a><b>1.2.</b>
</td>
<td align="left" valign="top"><p>Where does the name "Valgrind" come from?</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>From Nordic mythology.  Originally (before release) the
  project was named Heimdall, after the watchman of the Nordic
  gods.  He could "see a hundred miles by day or night, hear the
  grass growing, see the wool growing on a sheep's back" (etc).
  This would have been a great name, but it was already taken by
  a security package "Heimdal".</p>
<p>Keeping with the
  Nordic theme, Valgrind was chosen.  Valgrind is the name of the
  main entrance to Valhalla (the Hall of the Chosen Slain in
  Asgard).  Over this entrance there resides a wolf and over it
  there is the head of a boar and on it perches a huge eagle,
  whose eyes can see to the far regions of the nine worlds.  Only
  those judged worthy by the guardians are allowed to pass
  through Valgrind.  All others are refused entrance.</p>
<p>It's not short for "value grinder", although that's not a
  bad guess.</p>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
</tbody>
</table>
</div>
</div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="faq.installing"></a>2. Compiling, installing and configuring</h2></div></div>
<div></div>
</div>
<div class="qandaset">
<dl><dt>2.1. <a href="FAQ.html#faq.make_dies">When I trying building Valgrind, 'make' dies partway with
  an assertion failure, something like this: 

% make: expand.c:489: allocated_variable_append: 
        Assertion 'current_variable_set_list-&gt;next != 0' failed.

  </a>
</dt></dl>
<table border="0" summary="Q and A Set">
<col align="left" width="1%">
<tbody>
<tr class="question">
<td align="left" valign="top">
<a name="faq.make_dies"></a><a name="id350105"></a><b>2.1.</b>
</td>
<td align="left" valign="top">
<p>When I trying building Valgrind, 'make' dies partway with
  an assertion failure, something like this: 
</p>
<pre class="screen">
% make: expand.c:489: allocated_variable_append: 
        Assertion 'current_variable_set_list-&gt;next != 0' failed.
</pre>
<p>
  </p>
</td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top"><p>It's probably a bug in 'make'.  Some, but not all,
  instances of version 3.79.1 have this bug, see
  www.mail-archive.com/bug-make@gnu.org/msg01658.html.  Try
  upgrading to a more recent version of 'make'.  Alternatively,
  we have heard that unsetting the CFLAGS environment variable
  avoids the problem.</p></td>
</tr>
<tr><td colspan="2"> </td></tr>
</tbody>
</table>
</div>
</div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="faq.abort"></a>3. Valgrind aborts unexpectedly</h2></div></div>
<div></div>
</div>
<div class="qandaset">
<dl>
<dt>3.1. <a href="FAQ.html#faq.exit_errors">Programs run OK on Valgrind, but at exit produce a bunch
  of errors a bit like this:

==20755== Invalid read of size 4
==20755==    at 0x40281C8A: _nl_unload_locale (loadlocale.c:238)
==20755==    by 0x4028179D: free_mem (findlocale.c:257)
==20755==    by 0x402E0962: __libc_freeres (set-freeres.c:34)
==20755==    by 0x40048DCC: vgPlain___libc_freeres_wrapper (vg_clientfuncs.c:585)
==20755==    Address 0x40CC304C is 8 bytes inside a block of size 380 free'd
==20755==    at 0x400484C9: free (vg_clientfuncs.c:180)
==20755==    by 0x40281CBA: _nl_unload_locale (loadlocale.c:246)
==20755==    by 0x40281218: free_mem (setlocale.c:461)
==20755==    by 0x402E0962: __libc_freeres (set-freeres.c:34)


 and then die with a segmentation fault.</a>
</dt>
<dt>3.2. <a href="FAQ.html#faq.bugdeath">My (buggy) program dies like this:</a>
</dt>
<dt>3.3. <a href="FAQ.html#faq.msgdeath">My program dies, printing a message like this along the
    way:</a>
</dt>
</dl>
<table border="0" summary="Q and A Set">
<col align="left" width="1%">
<tbody>
<tr class="question">
<td align="left" valign="top">
<a name="faq.exit_errors"></a><a name="id350146"></a><b>3.1.</b>
</td>
<td align="left" valign="top">
<p>Programs run OK on Valgrind, but at exit produce a bunch
  of errors a bit like this:
</p>
<pre class="programlisting">
==20755== Invalid read of size 4
==20755==    at 0x40281C8A: _nl_unload_locale (loadlocale.c:238)
==20755==    by 0x4028179D: free_mem (findlocale.c:257)
==20755==    by 0x402E0962: __libc_freeres (set-freeres.c:34)
==20755==    by 0x40048DCC: vgPlain___libc_freeres_wrapper (vg_clientfuncs.c:585)
==20755==    Address 0x40CC304C is 8 bytes inside a block of size 380 free'd
==20755==    at 0x400484C9: free (vg_clientfuncs.c:180)
==20755==    by 0x40281CBA: _nl_unload_locale (loadlocale.c:246)
==20755==    by 0x40281218: free_mem (setlocale.c:461)
==20755==    by 0x402E0962: __libc_freeres (set-freeres.c:34)
</pre>
<p>

 and then die with a segmentation fault.</p>
</td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>When the program exits, Valgrind runs the procedure
 <tt class="literal">__libc_freeres()</tt> in glibc.  This is a hook
 for memory debuggers, so they can ask glibc to free up any
 memory it has used.  Doing that is needed to ensure that
 Valgrind doesn't incorrectly report space leaks in glibc.</p>
<p>Problem is that running
 <tt class="literal">__libc_freeres()</tt> in older glibc versions
 causes this crash.</p>
<p>WORKAROUND FOR 1.1.X and later
 versions of Valgrind: use the
 <tt class="literal">--run-libc-freeres=no</tt> flag.  You may then get
 space leak reports for glibc-allocations (please _don't_ report
 these to the glibc people, since they are not real leaks), but
 at least the program runs.</p>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.bugdeath"></a><a name="id341757"></a><b>3.2.</b>
</td>
<td align="left" valign="top">
<p>My (buggy) program dies like this:</p>
<pre class="screen">
% valgrind: vg_malloc2.c:442 (bszW_to_pszW): Assertion 'pszW &gt;= 0' failed.
</pre>
</td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top"><p>If Memcheck (the memory checker) shows any invalid reads,
  invalid writes and invalid frees in your program, the above may
  happen.  Reason is that your program may trash Valgrind's
  low-level memory manager, which then dies with the above
  assertion, or something like this.  The cure is to fix your
  program so that it doesn't do any illegal memory accesses.  The
  above failure will hopefully go away after that.</p></td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.msgdeath"></a><a name="id295093"></a><b>3.3.</b>
</td>
<td align="left" valign="top">
<p>My program dies, printing a message like this along the
    way:</p>
<pre class="screen">
% disInstr: unhandled instruction bytes: 0x66 0xF 0x2E 0x5
</pre>
</td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>Older versions did not support some x86 instructions,
  particularly SSE/SSE2 instructions.  Try a newer Valgrind; we
  now support almost all instructions.  If it still happens with
  newer versions, if the failing instruction is an SSE/SSE2
  instruction, you might be able to recompile your program
  without it by using the flag
  <tt class="computeroutput">-march</tt> to gcc.  Either way,
  let us know and we'll try to fix it.</p>
<p>Another possibility is that your program has a bug and
  erroneously jumps to a non-code address, in which case you'll
  get a SIGILL signal.  Memcheck/Addrcheck may issue a warning
  just before this happens, but they might not if the jump
  happens to land in addressable memory.</p>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
</tbody>
</table>
</div>
</div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="faq.unexpected"></a>4. Valgrind behaves unexpectedly</h2></div></div>
<div></div>
</div>
<div class="qandaset">
<dl>
<dt>4.1. <a href="FAQ.html#faq.slowthread">My threaded server process runs unbelievably slowly on
  Valgrind.  So slowly, in fact, that at first I thought it had
  completely locked up.</a>
</dt>
<dt>4.2. <a href="FAQ.html#faq.reports">My program uses the C++ STL and string classes.  Valgrind
  reports 'still reachable' memory leaks involving these classes
  at the exit of the program, but there should be none.</a>
</dt>
<dt>4.3. <a href="FAQ.html#faq.unhelpful">The stack traces given by Memcheck (or another tool)
  aren't helpful.  How can I improve them?</a>
</dt>
<dt>4.4. <a href="FAQ.html#faq.aliases">The stack traces given by Memcheck (or another tool) seem to
  have the wrong function name in them.  What's happening?</a>
</dt>
</dl>
<table border="0" summary="Q and A Set">
<col align="left" width="1%">
<tbody>
<tr class="question">
<td align="left" valign="top">
<a name="faq.slowthread"></a><a name="id321525"></a><b>4.1.</b>
</td>
<td align="left" valign="top"><p>My threaded server process runs unbelievably slowly on
  Valgrind.  So slowly, in fact, that at first I thought it had
  completely locked up.</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>We are not completely sure about this, but one
  possibility is that laptops with power management fool
  Valgrind's timekeeping mechanism, which is (somewhat in error)
  based on the x86 RDTSC instruction.  A "fix" which is claimed
  to work is to run some other cpu-intensive process at the same
  time, so that the laptop's power-management clock-slowing does
  not kick in.  We would be interested in hearing more feedback
  on this.</p>
<p>Another possible cause is that versions prior to 1.9.6
  did not support threading on glibc 2.3.X systems well.
  Hopefully the situation is much improved with 1.9.6 and later
  versions.</p>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.reports"></a><a name="id321553"></a><b>4.2.</b>
</td>
<td align="left" valign="top"><p>My program uses the C++ STL and string classes.  Valgrind
  reports 'still reachable' memory leaks involving these classes
  at the exit of the program, but there should be none.</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>First of all: relax, it's probably not a bug, but a
  feature.  Many implementations of the C++ standard libraries
  use their own memory pool allocators.  Memory for quite a
  number of destructed objects is not immediately freed and given
  back to the OS, but kept in the pool(s) for later re-use.  The
  fact that the pools are not freed at the exit() of the program
  cause Valgrind to report this memory as still reachable.  The
  behaviour not to free pools at the exit() could be called a bug
  of the library though.</p>
<p>Using gcc, you can force the STL to use malloc and to
  free memory as soon as possible by globally disabling memory
  caching.  Beware!  Doing so will probably slow down your
  program, sometimes drastically.</p>
<div class="itemizedlist"><ul type="disc">
<li><p>With gcc 2.91, 2.95, 3.0 and 3.1, compile all source
    using the STL with <tt class="literal">-D__USE_MALLOC</tt>. Beware!
    This is removed from gcc starting with version 3.3.</p></li>
<li><p>With gcc 3.2.2 and later, you should export the environment
    variable <tt class="literal">GLIBCPP_FORCE_NEW</tt> before running
    your program.</p></li>
<li><p>With gcc 3.4 and later, that variable has changed name to
    <tt class="literal">GLIBCXX_FORCE_NEW</tt>.</p></li>
</ul></div>
<p>There are other ways to disable memory pooling: using the
  <tt class="literal">malloc_alloc</tt> template with your objects (not
  portable, but should work for gcc) or even writing your own
  memory allocators. But all this goes beyond the scope of this
  FAQ.  Start by reading <a href="http://gcc.gnu.org/onlinedocs/libstdc++/ext/howto.html#3" target="_top">
  http://gcc.gnu.org/onlinedocs/libstdc++/ext/howto.html#3</a>
  if you absolutely want to do that. But beware:</p>
<div class="orderedlist"><ol type="1">
<li><p>there are currently changes underway for gcc which are
    not totally reflected in the docs right now ("now" == 26 Apr
    03)</p></li>
<li><p>allocators belong to the more messy parts of the STL
    and people went to great lengths to make it portable across
    platforms. Chances are good that your solution will work on
    your platform, but not on others.</p></li>
</ol></div>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.unhelpful"></a><a name="id286167"></a><b>4.3.</b>
</td>
<td align="left" valign="top"><p>The stack traces given by Memcheck (or another tool)
  aren't helpful.  How can I improve them?</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>If they're not long enough, use
  <tt class="literal">--num-callers</tt> to make them longer.</p>
<p>If they're not detailed enough, make sure you are
  compiling with <tt class="literal">-g</tt> to add debug information.
  And don't strip symbol tables (programs should be unstripped
  unless you run 'strip' on them; some libraries ship
  stripped).</p>
<p>Also, for leak reports involving shared objects, if the shared
  object is unloaded before the program terminates, Valgrind will discard
  the debug information and the error message will be full of
  <tt class="literal">???</tt> entries.  The workaround here is to avoid calling
  dlclose() on these shared objects.
  </p>
<p>Also, <tt class="literal">-fomit-frame-pointer</tt> and
  <tt class="literal">-fstack-check</tt> can make stack traces
  worse.</p>
<p>Some example sub-traces:</p>
<p>With debug information and unstripped (best):</p>
<pre class="programlisting">
Invalid write of size 1
   at 0x80483BF: really (malloc1.c:20)
   by 0x8048370: main (malloc1.c:9)
</pre>
<p>With no debug information, unstripped:</p>
<pre class="programlisting">
Invalid write of size 1
   at 0x80483BF: really (in /auto/homes/njn25/grind/head5/a.out)
   by 0x8048370: main (in /auto/homes/njn25/grind/head5/a.out)
</pre>
<p>With no debug information, stripped:</p>
<pre class="programlisting">
Invalid write of size 1
   at 0x80483BF: (within /auto/homes/njn25/grind/head5/a.out)
   by 0x8048370: (within /auto/homes/njn25/grind/head5/a.out)
   by 0x42015703: __libc_start_main (in /lib/tls/libc-2.3.2.so)
   by 0x80482CC: (within /auto/homes/njn25/grind/head5/a.out)
</pre>
<p>With debug information and -fomit-frame-pointer:</p>
<pre class="programlisting">
Invalid write of size 1
   at 0x80483C4: really (malloc1.c:20)
   by 0x42015703: __libc_start_main (in /lib/tls/libc-2.3.2.so)
   by 0x80482CC: ??? (start.S:81)
</pre>
<p>A leak error message involving an unloaded shared object:</p>
<pre class="programlisting">
84 bytes in 1 blocks are possibly lost in loss record 488 of 713
   at 0x1B9036DA: operator new(unsigned) (vg_replace_malloc.c:132)
   by 0x1DB63EEB: ???
   by 0x1DB4B800: ???
   by 0x1D65E007: ???
   by 0x8049EE6: main (main.cpp:24)
</pre>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.aliases"></a><a name="id286791"></a><b>4.4.</b>
</td>
<td align="left" valign="top"><p>The stack traces given by Memcheck (or another tool) seem to
  have the wrong function name in them.  What's happening?</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top"><p>Occasionally Valgrind stack traces get the wrong function names.
  This is caused by glibc using aliases to effectively give one function two
  names.  Most of the time Valgrind chooses a suitable name, but very
  occasionally it gets it wrong.

  Examples we know of are printing 'bcmp' instead of 'memcmp', 'index'
  instead of 'strchr', and 'rindex' instead of 'strrchr'.</p></td>
</tr>
<tr><td colspan="2"> </td></tr>
</tbody>
</table>
</div>
</div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="faq.notfound"></a>5. Memcheck doesn't find my bug</h2></div></div>
<div></div>
</div>
<div class="qandaset">
<dl>
<dt>5.1. <a href="FAQ.html#faq.hiddenbug">I try running "valgrind --tool=memcheck my_program" and
  get Valgrind's startup message, but I don't get any errors and
  I know my program has errors.</a>
</dt>
<dt>5.2. <a href="FAQ.html#faq.overruns">Why doesn't Memcheck find the array overruns in this program?</a>
</dt>
</dl>
<table border="0" summary="Q and A Set">
<col align="left" width="1%">
<tbody>
<tr class="question">
<td align="left" valign="top">
<a name="faq.hiddenbug"></a><a name="id286829"></a><b>5.1.</b>
</td>
<td align="left" valign="top"><p>I try running "valgrind --tool=memcheck my_program" and
  get Valgrind's startup message, but I don't get any errors and
  I know my program has errors.</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>There are two possible causes of this.</p>
<p>First, by default, Valgrind only traces the top-level process.
  So if your program spawns children, they won't be traced by
  Valgrind by default.  Also, if your program is started by a
  shell script, Perl script, or something similar, Valgrind will
  trace the shell, or the Perl interpreter, or equivalent.</p>
<p>To trace child processes, use the
  <tt class="literal">--trace-children=yes</tt> option.</p>
<p>If you are tracing large trees of processes, it can be
  less disruptive to have the output sent over the network.  Give
  Valgrind the flag
  <tt class="literal">--log-socket=127.0.0.1:12345</tt> (if you want
  logging output sent to <tt class="literal">port 12345</tt> on
  <tt class="literal">localhost</tt>).  You can use the
  valgrind-listener program to listen on that port:</p>
<pre class="programlisting">
valgrind-listener 12345
</pre>
<p>Obviously you have to start the listener process first.
  See the Manual: <a href="http://www.valgrind.org/docs/bookset/manual-core.out2file.html" target="_top">Directing output to file</a> for more details.</p>
<p>Second, if your program is statically linked, most Valgrind tools
  won't work as well, because they won't be able to replace certain
  functions, such as malloc(), with their own versions.  A key indicator of
  this is if Memcheck says:
</p>
<pre class="programlisting">
No malloc'd blocks -- no leaks are possible
</pre>
<p>
when you know your program calls malloc().  The workaround is to avoid
statically linking your program.</p>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.overruns"></a><a name="id366928"></a><b>5.2.</b>
</td>
<td align="left" valign="top">
<p>Why doesn't Memcheck find the array overruns in this program?</p>
<pre class="programlisting">
int static[5];

int main(void)
{
  int stack[5];

  static[5] = 0;
  stack [5] = 0;
          
  return 0;
}
</pre>
</td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top"><p>Unfortunately, Memcheck doesn't do bounds checking on
  static or stack arrays.  We'd like to, but it's just not
  possible to do in a reasonable way that fits with how Memcheck
  works.  Sorry.</p></td>
</tr>
<tr><td colspan="2"> </td></tr>
</tbody>
</table>
</div>
</div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="faq.misc"></a>6. Miscellaneous</h2></div></div>
<div></div>
</div>
<div class="qandaset">
<dl>
<dt>6.1. <a href="FAQ.html#faq.writesupp">I tried writing a suppression but it didn't work.  Can
  you write my suppression for me?</a>
</dt>
<dt>6.2. <a href="FAQ.html#faq.deflost">With Memcheck/Addrcheck's memory leak detector, what's
  the difference between "definitely lost", "possibly lost",
  "still reachable", and "suppressed"?</a>
</dt>
</dl>
<table border="0" summary="Q and A Set">
<col align="left" width="1%">
<tbody>
<tr class="question">
<td align="left" valign="top">
<a name="faq.writesupp"></a><a name="id287086"></a><b>6.1.</b>
</td>
<td align="left" valign="top"><p>I tried writing a suppression but it didn't work.  Can
  you write my suppression for me?</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>Yes!  Use the
  <tt class="computeroutput">--gen-suppressions=yes</tt> feature
  to spit out suppressions automatically for you.  You can then
  edit them if you like, eg.  combining similar automatically
  generated suppressions using wildcards like
  <tt class="literal">'*'</tt>.</p>
<p>If you really want to write suppressions by hand, read
  the manual carefully.  Note particularly that C++ function
  names must be <tt class="literal">_mangled_</tt>.</p>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
<tr class="question">
<td align="left" valign="top">
<a name="faq.deflost"></a><a name="id378865"></a><b>6.2.</b>
</td>
<td align="left" valign="top"><p>With Memcheck/Addrcheck's memory leak detector, what's
  the difference between "definitely lost", "possibly lost",
  "still reachable", and "suppressed"?</p></td>
</tr>
<tr class="answer">
<td> </td>
<td align="left" valign="top">
<p>The details are in the Manual: 
   <a href="http://www.valgrind.org/docs/bookset/mc-manual.leaks.html" target="_top">Memory leak detection</a>.</p>
<p>In short:</p>
<div class="itemizedlist"><ul type="disc">
<li><p>"definitely lost" means your program is leaking memory
     -- fix it!</p></li>
<li><p>"possibly lost" means your program is probably leaking
     memory, unless you're doing funny things with
     pointers.</p></li>
<li><p>"still reachable" means your program is probably ok --
     it didn't free some memory it could have.  This is quite
     common and often reasonable.  Don't use
     <tt class="computeroutput">--show-reachable=yes</tt> if you
     don't want to see these reports.</p></li>
<li><p>"suppressed" means that a leak error has been
     suppressed.  There are some suppressions in the default
     suppression files.  You can ignore suppressed errors.</p></li>
</ul></div>
</td>
</tr>
<tr><td colspan="2"> </td></tr>
</tbody>
</table>
</div>
</div>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="faq.help"></a>7. How To Get Further Assistance</h2></div></div>
<div></div>
</div>
<p>Please read all of this section before posting.</p>
<p>If you think an answer is incomplete or inaccurate, please
e-mail <a href="mailto:valgrind@valgrind.org" target="_top">valgrind@valgrind.org</a>.</p>
<p>Read the appropriate section(s) of the Manual(s): 
<a href="http://www.valgrind.org/docs/" target="_top">Valgrind 
Documentation</a>.</p>
<p>Read the <a href="http://www.valgrind.org/docs/" target="_top">Distribution Documents</a>.</p>
<p><a href="http://search.gmane.org" target="_top">Search</a> the 
<a href="http://news.gmane.org/gmane.comp.debugging.valgrind" target="_top">valgrind-users</a> mailing list archives, using the group name 
<tt class="computeroutput">gmane.comp.debugging.valgrind</tt>.</p>
<p>Only when you have tried all of these things and are still stuck,
should you post to the <a href="http://lists.sourceforge.net/lists/listinfo/valgrind-users" target="_top">valgrind-users
mailing list</a>. In which case, please read the following
carefully.  Making a complete posting will greatly increase the chances
that an expert or fellow user reading it will have enough information
and motivation to reply.</p>
<p>Make sure you give full details of the problem,
including the full output of <tt class="computeroutput">valgrind
-v</tt>, if applicable.  Also which Linux distribution
you're using (Red Hat, Debian, etc) and its version number.</p>
<p>You are in little danger of making your posting too long
unless you include large chunks of valgrind's (unsuppressed)
output, so err on the side of giving too much information.</p>
<p>Clearly written subject lines and message bodies are appreciated,
too.</p>
<p>Finally, remember that, despite the fact that most of the
community are very helpful and responsive to emailed questions,
you are probably requesting help from unpaid volunteers, so you
have no guarantee of receiving an answer.</p>
</div>
</div>
<div>
<br><table class="nav" width="100%" cellspacing="3" cellpadding="2" border="0" summary="Navigation footer">
<tr>
<td rowspan="2" width="40%" align="left">
<a accesskey="p" href="lk-manual.html">&lt;&lt; 9. Lackey: a very simple profiler</a> </td>
<td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td>
<td rowspan="2" width="40%" align="right"> <a accesskey="n" href="tech-docs.html">Valgrind Technical Documentation &gt;&gt;</a>
</td>
</tr>
<tr><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td></tr>
</table>
</div>
</body>
</html>
